(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(94),a(39)),l=a.n(o),s=a(13),m=a(11),u=a(15),h=a(16),d=a(17),v=a(164),p=a(165),f=a(42),y=a(157),E=a(12),g=a(154),b=a(166),w=a(50),C=a(155),j=a(168),k=a(77),O=a(156),S=a(149),N=a(70),A=a.n(N),q=a(72),x=a.n(q),D=a(73),M=a.n(D),B=a(71),I=a.n(B),T=(a(96),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onHandleChange=function(e,t){a.props.onAdvancedSearchChange(e,t)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.enableAdvancedSearch,n=t.data;return r.a.createElement(S.a,{in:a},r.a.createElement("div",{className:"adv-search"},r.a.createElement("div",{className:"adv-search-container"},r.a.createElement(g.a,{container:!0,spacing:1,alignItems:"space-between",className:"adv-search-item"},r.a.createElement(g.a,{item:!0},r.a.createElement(A.a,{color:"primary"})),r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{value:n.movieTitle,label:"Movie title",onChange:function(t){return e.onHandleChange("movieTitle",t.target.value)}}))),r.a.createElement(g.a,{container:!0,spacing:1,alignItems:"space-between",className:"adv-search-item"},r.a.createElement(g.a,{item:!0},r.a.createElement(I.a,{color:"primary"})),r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{value:n.actor,label:"Actor/Actress",onChange:function(t){return e.onHandleChange("actor",t.target.value)}})))),r.a.createElement("div",{className:"adv-search-container"},r.a.createElement(g.a,{container:!0,spacing:1,alignItems:"space-between",className:"adv-search-item"},r.a.createElement(g.a,{item:!0},r.a.createElement(x.a,{color:"primary"})),r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{value:n.year,label:"Year",onChange:function(t){return e.onHandleChange("year",t.target.value)}}))),r.a.createElement(g.a,{container:!0,spacing:1,alignItems:"space-between",className:"adv-search-item"},r.a.createElement(g.a,{item:!0},r.a.createElement(M.a,{color:"primary"})),r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{value:n.keywords,label:"Keywords",onChange:function(t){return e.onHandleChange("keywords",t.target.value)}}))))))}}]),t}(n.Component)),_=(a(101),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).onSearchChange=function(e){a.setState({query:e.target.value})},a.setSearchInput=function(e){a.setState({query:e.target.text},a.querySearch)},a.toggleAdvancedSearch=function(){return a.setState({enableAdvancedSearch:!a.state.enableAdvancedSearch})},a.onAdvancedSearchChange=function(e,t){return a.setState(Object(E.a)({},e,t))},a.querySearch=function(e){var t,n,r,c,i,o;return l.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:e&&e.preventDefault(),t=a.state,n=t.query,r=t.movieTitle,c=t.actor,i=t.year,o=t.keywords,t.enableAdvancedSearch?n.length|r.length|c.length|i.length|o.length&&a.props.getMoviesForQuery({query:n,movieTitle:r,actor:c,year:i,keywords:o}):a.props.getMoviesForQuery({query:n,movieTitle:"",actor:"",year:"",keywords:""});case 3:case"end":return l.stop()}}))},a.state={query:"",movieTitle:"",actor:"",year:"",keywords:"",enableAdvancedSearch:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({showErrorMsg:!1})}},{key:"render",value:function(){var e=this.state,t=e.enableAdvancedSearch,a=e.movieTitle,n=e.actor,c=e.year,i=e.keywords,o=this.props,l=o.showErrorMsg,s=o.showExamples,m={movieTitle:a,actor:n,year:c,keywords:i};return r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.querySearch},r.a.createElement("div",{className:"search-form"},r.a.createElement("div",{className:"search-input"},r.a.createElement(b.a,{id:"outlined-basic",label:"Search for a movie quote...",variant:"outlined",fullWidth:!0,onChange:this.onSearchChange,value:this.state.query})),r.a.createElement(w.a,{className:"search-button",variant:"outlined",color:"primary",type:"submit"},"Search"),r.a.createElement(C.a,{className:"advanced-search-button",control:r.a.createElement(j.a,{checked:t,onChange:this.toggleAdvancedSearch,value:"checkedB",color:"primary"}),label:"Advanced Search"})),r.a.createElement(T,{enableAdvancedSearch:t,data:m,onAdvancedSearchChange:this.onAdvancedSearchChange})),s&&r.a.createElement(k.a,{variant:"h6",color:"primary"},r.a.createElement("span",null,"Try ",r.a.createElement(O.a,{color:"primary",underline:"none",variant:"inherit",onClick:this.setSearchInput},"I see dead people")),r.a.createElement("span",null," or ",r.a.createElement(O.a,{color:"primary",underline:"none",variant:"inherit",onClick:this.setSearchInput},"Following's not really my style"))),l&&r.a.createElement("h6",{className:"error-container"},"Error: API not running. Go to ttds_movie_search/api and run ./run.sh"))}}]),t}(n.Component)),G=a(163),F=a(74),V=a.n(F),Q=a(158),H=a(159),P=a(160),W=a(161),J=(a(103),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).viewDetails=function(){a.props.viewDetails(a.props.quote_id)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.full_quote,a=e.title,n=e.character_name,c=e.categories,i=e.plotKeywords;i.length>5&&i.slice(0,5);return r.a.createElement("div",null,r.a.createElement(Q.a,{raised:!0,className:"card-container"},r.a.createElement(H.a,{className:"card-media",image:this.props.thumbnail}),r.a.createElement(P.a,{onClick:this.viewDetails},r.a.createElement("div",{className:"card-content"},r.a.createElement(W.a,null,r.a.createElement(k.a,{variant:"h5"},t),r.a.createElement(k.a,{variant:"h6"},a),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"body2"},"Character: ",n),r.a.createElement(k.a,{variant:"body2"},"Category: ",c.join(", ")))))))}}]),t}(r.a.Component)),K=(a(104),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).showMoreCast=function(e){e.preventDefault(),a.setState({moreCastVisible:!a.state.moreCastVisible})},a.state={moreCastVisible:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){e.details.movie_id!==this.props.details.movie_id&&this.setState({moreCastVisible:!1})}},{key:"render",value:function(){var e=this.props.details,t=this.state.moreCastVisible,a=e.cast.length>10?10:e.cast.length;return r.a.createElement("div",Object.assign({},this.props,{className:"details-card"}),r.a.createElement(Q.a,{raised:!0,className:"card-container"},r.a.createElement(W.a,null,r.a.createElement("div",{className:"card-content"},e&&r.a.createElement(W.a,null,r.a.createElement(k.a,{variant:"h5"},e.title),r.a.createElement(k.a,{variant:"body1"},e.description),r.a.createElement(k.a,{variant:"body1"},r.a.createElement("b",null,"Year:")," ",e.year),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,"Rating:")," ",e.rating),e.cast.length>0&&r.a.createElement(k.a,{variant:"h5"},"Cast"),e.cast.slice(0,a).map((function(e){return r.a.createElement(k.a,{key:e.actor,variant:"body1"},e.actor," as ",r.a.createElement("i",null,e.character))})),e.cast.length>10&&r.a.createElement(n.Fragment,null,!t&&r.a.createElement(O.a,{onClick:this.showMoreCast},r.a.createElement(k.a,null,"Show more...")),t&&e.cast.slice(10,-1).map((function(e){return r.a.createElement(k.a,{key:e.actor,variant:"body1"},e.actor," as ",r.a.createElement("i",null,e.character))}))),r.a.createElement("br",null),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0}),r.a.createElement(w.a,{target:"_blank",variant:"contained",color:"primary",href:"https://www.imdb.com/title/".concat(e.movie_id)},"View in IMDB"))))))}}]),t}(n.Component)),R=a(162),U=(a(105),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).filterByGenre=function(e){var t=a.state.variants,n=Object.keys(t).filter((function(e){return"contained"===t[e]}));for(var r in t)r in n||(t[r]="text");n.includes(e)||(t[e]="contained"),a.setState({variants:t},(function(){return a.props.filterByGenre(t)}))},a.state={variants:{},selectedGenres:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e={};this.props.genres.forEach((function(t){e[t]="text"})),this.setState({variants:e})}},{key:"render",value:function(){var e=this,t=this.props.genres;return r.a.createElement(R.a,{color:"primary","aria-label":"primary button group"},t.map((function(t,a){return r.a.createElement(Y,{key:t,genre:t,variant:e.state.variants[t],filterByGenre:e.filterByGenre})})))}}]),t}(n.Component)),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onGenreClick=function(e){a.props.filterByGenre(e)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.genre,n=t.variant;return r.a.createElement(w.a,{variant:n,color:"primary",id:a,onClick:function(){return e.onGenreClick(a)}},a)}}]),t}(n.Component),L=(a(106),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).filterByGenre=function(e){var t=a.props.data,n=Object.keys(e).filter((function(t){return"contained"===e[t]}));n.length&&(t=t.filter((function(e){return e.categories.includes(n[0])}))),a.setState({data:t,showDetails:!1})},a.viewDetailsCard=function(e){a.setState({showDetails:!0,quoteId:e})},a.handleClick=function(e){a.setState({offset:e})},a.state={data:[],showDetails:!1,quoteId:null,offset:0,perPage:3},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data,showDetails:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showDetails,n=t.quoteId,c=t.data,i=t.offset,o=t.perPage,l=this.props.genres;return r.a.createElement("div",null,r.a.createElement(g.a,{container:!0,className:"movies-container",spacing:6},c.length>0&&r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(U,{genres:l,filterByGenre:this.filterByGenre})),r.a.createElement(g.a,{item:!0,xs:8},r.a.createElement(k.a,{variant:"h6",color:"primary"},"Query results: ".concat(c.length," movies")),c.slice(i,i+o).map((function(t,a){return r.a.createElement(J,Object.assign({key:a,viewDetails:e.viewDetailsCard},t))}))),a&&r.a.createElement(g.a,{item:!0,xs:4},r.a.createElement(G.a,{in:a,style:{transitionDelay:a?"100ms":"0ms"}},r.a.createElement(K,{details:c.find((function(e){return e.quote_id===n}))})))),c.length>0&&r.a.createElement(V.a,{limit:o,offset:i,total:c.length,onClick:function(t,a){return e.handleClick(a)}}))}}]),t}(r.a.Component)),$=a(75),z=a.n($).a.create({baseURL:"http://localhost:5000/",responseType:"json"}),X=(a(125),Object(f.a)({palette:{type:"dark",primary:{main:"#2196f3"},secondary:{light:"#cc33ff",main:"#e699ff",contrastText:"#ffcc00"}}})),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getMoviesForQuery=function(e){var t=e.query,n=e.movieTitle,r=e.actor,c=e.year,i=e.keywords;a.setState({loading:!0},(function(){var e;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,l.a.awrap(z.post("/query_search",{query:t,movie_title:n,actor:r,year:c,keywords:i}));case 3:e=o.sent,a.setState({movies:e.data.movies,genres:e.data.category_list,showCards:!0,showExamples:!1,loading:!1}),o.next=11;break;case 7:o.prev=7,o.t0=o.catch(0),console.error(o.t0),a.setState({showErrorMsg:!0,showExamples:!0,loading:!1});case 11:case"end":return o.stop()}}),null,null,[[0,7]])}))},a.state={movies:[],showCards:!1,showExamples:!0,showErrorMsg:!1,loading:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showCards,a=e.movies,c=e.genres,i=e.showExamples,o=e.showErrorMsg,l=e.loading;return r.a.createElement(y.a,{theme:X},r.a.createElement(v.a,{className:"app"},r.a.createElement("h3",null,"TTDS Movie Project 2020"),r.a.createElement("div",{className:"search-container"},r.a.createElement(_,{getMoviesForQuery:this.getMoviesForQuery,showExamples:i,showErrorMsg:o})),t&&r.a.createElement(n.Fragment,null,l?r.a.createElement(n.Fragment,null,Array.apply(null,{length:2}).map((function(e,t){return r.a.createElement(p.a,{variant:"rect",width:790,height:170,className:"skeleton-card"})}))):r.a.createElement(L,{data:a,genres:c}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){e.exports=a(126)},94:function(e,t,a){},96:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.cd42d41f.chunk.js.map